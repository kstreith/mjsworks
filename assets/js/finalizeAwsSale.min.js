!function(){function u(e){var n=document.querySelector(e);n&&(n.style.display="block")}function c(e,n){var t=document.querySelector(e);t&&(t.innerText=n)}function t(e,n,t){var o,r;if(o="#loading",(r=document.querySelector(o))&&(r.style.display="none"),!n)return u("#technicalIssuesPurchase"),void(t&&c("#technicalCode",t));if("Failure"!==e.resultCode||"BuyerAbandoned"!==e.failureCode)if("Failure"!==e.resultCode||"AmazonRejected"!==e.failureCode){if("Success"===e.resultCode&&e.orderReferenceId)return c("#orderNumber",e.orderReferenceId),void u("#successfulPurchase");u("#technicalIssuesPurchase"),t&&c("#technicalCode",t)}else u("#rejectedPurchase");else u("#abandonedPurchase")}if(window.fetch){var e=function(){for(var e=window.location.search,n={},t=("?"===e[0]?e.substr(1):e).split("&"),o=0;o<t.length;o++){var r=t[o].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}();(o=e).mode=mjsworks.mode,fetch("https://mjsworksfuncs.azurewebsites.net/api/ValidateReceiptSignature?code=Aj52Rvg73Hj0J5equro2cUg9fINaDW7QybjoQdDMpO/dhQbQl416Ng==&clientId=default",{method:"POST",body:JSON.stringify(o),headers:{"content-type":"application/json"}}).then(function(e){return 200===e.status?e.json():"failed"}).then(function(e){if("failed"===e)t(null,null,"E200");else{var n=!(window.decodeURIComponent(o.signature)!==e.signature);t(o,n,n?null:"E400")}})}else t(null,null,"E300");var o}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmFsaXplQXdzU2FsZS5qcyJdLCJuYW1lcyI6WyJzaG93Iiwic2VsZWN0b3IiLCJkb21Ob2RlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGV4dCIsInRleHQiLCJpbm5lclRleHQiLCJkaXNwbGF5TWVzc2FnZSIsImRhdGEiLCJ2YWxpZE1lc3NhZ2UiLCJ0ZWNobmljYWxDb2RlIiwicmVzdWx0Q29kZSIsImZhaWx1cmVDb2RlIiwib3JkZXJSZWZlcmVuY2VJZCIsIndpbmRvdyIsImZldGNoIiwicXVlcnlTdHJpbmciLCJsb2NhdGlvbiIsInNlYXJjaCIsInF1ZXJ5IiwicGFpcnMiLCJzdWJzdHIiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VRdWVyeSIsIm1vZGUiLCJtanN3b3JrcyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsImNvbnRlbnQtdHlwZSIsInRoZW4iLCJyZXNwb25zZSIsInN0YXR1cyIsImpzb24iLCJyZXNwb25zZU9iaiIsInZhbGlkYXRlZCIsInNpZ25hdHVyZSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FXQSxTQUFBQSxFQUFBQyxHQUNBLElBQUFDLEVBQUFDLFNBQUFDLGNBQUFILEdBQ0FDLElBR0FBLEVBQUFHLE1BQUFDLFFBQUEsU0FTQSxTQUFBQyxFQUFBTixFQUFBTyxHQUNBLElBQUFOLEVBQUFDLFNBQUFDLGNBQUFILEdBQ0FDLElBR0FBLEVBQUFPLFVBQUFELEdBRUEsU0FBQUUsRUFBQUMsRUFBQUMsRUFBQUMsR0FkQSxJQUFBWixFQUNBQyxFQWVBLEdBaEJBRCxFQWVBLFlBZEFDLEVBQUFDLFNBQUFDLGNBQUFILE1BSUFDLEVBQUFHLE1BQUFDLFFBQUEsU0FXQU0sRUFLQSxPQUpBWixFQUFBLGlDQUNBYSxHQUNBTixFQUFBLGlCQUFBTSxJQUlBLEdBQUEsWUFBQUYsRUFBQUcsWUFBQSxtQkFBQUgsRUFBQUksWUFJQSxHQUFBLFlBQUFKLEVBQUFHLFlBQUEsbUJBQUFILEVBQUFJLFlBQUEsQ0FJQSxHQUFBLFlBQUFKLEVBQUFHLFlBQUFILEVBQUFLLGlCQUdBLE9BRkFULEVBQUEsZUFBQUksRUFBQUssdUJBQ0FoQixFQUFBLHVCQUdBQSxFQUFBLDRCQUNBYSxHQUNBTixFQUFBLGlCQUFBTSxRQVZBYixFQUFBLDBCQUpBQSxFQUFBLHNCQXNDQSxHQUFBaUIsT0FBQUMsTUFHQSxDQUNBLElBQUFQLEVBbkZBLFdBSUEsSUFIQSxJQUFBUSxFQUFBRixPQUFBRyxTQUFBQyxPQUNBQyxFQUFBLEdBQ0FDLEdBQUEsTUFBQUosRUFBQSxHQUFBQSxFQUFBSyxPQUFBLEdBQUFMLEdBQUFNLE1BQUEsS0FDQUMsRUFBQSxFQUFBQSxFQUFBSCxFQUFBSSxPQUFBRCxJQUFBLENBQ0EsSUFBQUUsRUFBQUwsRUFBQUcsR0FBQUQsTUFBQSxLQUNBSCxFQUFBTyxtQkFBQUQsRUFBQSxLQUFBQyxtQkFBQUQsRUFBQSxJQUFBLElBRUEsT0FBQU4sRUEyRUFRLElBekJBbkIsRUEwQkFBLEdBekJBb0IsS0FBQUMsU0FBQUQsS0FDQWIsTUFBQSxzSkFBQSxDQUNBZSxPQUFBLE9BQ0FDLEtBQUFDLEtBQUFDLFVBQUF6QixHQUNBMEIsUUFBQSxDQUFBQyxlQUFBLHNCQUNBQyxLQUFBLFNBQUFDLEdBQ0EsT0FBQSxNQUFBQSxFQUFBQyxPQUNBRCxFQUFBRSxPQUVBLFdBQ0FILEtBQUEsU0FBQUksR0FDQSxHQUFBLFdBQUFBLEVBQ0FqQyxFQUFBLEtBQUEsS0FBQSxZQUNBLENBQ0EsSUFDQWtDLElBREEzQixPQUFBWSxtQkFBQWxCLEVBQUFrQyxhQUNBRixFQUFBRSxXQUNBbkMsRUFBQUMsRUFBQWlDLEVBQUFBLEVBQUEsS0FBQSxnQkFLQWxDLEVBQUEsS0FBQSxLQUFBLFFBdEJBLElBQUFDLEVBM0RBIiwiZmlsZSI6ImZpbmFsaXplQXdzU2FsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gcGFyc2VRdWVyeSgpIHtcclxuICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIHZhciBxdWVyeSA9IHt9O1xyXG4gICAgICAgIHZhciBwYWlycyA9IChxdWVyeVN0cmluZ1swXSA9PT0gJz8nID8gcXVlcnlTdHJpbmcuc3Vic3RyKDEpIDogcXVlcnlTdHJpbmcpLnNwbGl0KCcmJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgIHF1ZXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSB8fCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBxdWVyeTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNob3coc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgZG9tTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghZG9tTm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvbU5vZGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhpZGUoc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgZG9tTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghZG9tTm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvbU5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0VGV4dChzZWxlY3RvciwgdGV4dCkge1xyXG4gICAgICAgIHZhciBkb21Ob2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFkb21Ob2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tTm9kZS5pbm5lclRleHQgPSB0ZXh0OyAgICAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkaXNwbGF5TWVzc2FnZShkYXRhLCB2YWxpZE1lc3NhZ2UsIHRlY2huaWNhbENvZGUpIHtcclxuICAgICAgICBoaWRlKFwiI2xvYWRpbmdcIik7XHJcbiAgICAgICAgaWYgKCF2YWxpZE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgc2hvdyhcIiN0ZWNobmljYWxJc3N1ZXNQdXJjaGFzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHRlY2huaWNhbENvZGUpIHtcclxuICAgICAgICAgICAgICAgIHNldFRleHQoXCIjdGVjaG5pY2FsQ29kZVwiLCB0ZWNobmljYWxDb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLnJlc3VsdENvZGUgPT09IFwiRmFpbHVyZVwiICYmIGRhdGEuZmFpbHVyZUNvZGUgPT09IFwiQnV5ZXJBYmFuZG9uZWRcIikge1xyXG4gICAgICAgICAgICBzaG93KFwiI2FiYW5kb25lZFB1cmNoYXNlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLnJlc3VsdENvZGUgPT09IFwiRmFpbHVyZVwiICYmIGRhdGEuZmFpbHVyZUNvZGUgPT09IFwiQW1hem9uUmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICBzaG93KFwiI3JlamVjdGVkUHVyY2hhc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0Q29kZSA9PT0gXCJTdWNjZXNzXCIgJiYgZGF0YS5vcmRlclJlZmVyZW5jZUlkKSB7XHJcbiAgICAgICAgICAgIHNldFRleHQoXCIjb3JkZXJOdW1iZXJcIiwgZGF0YS5vcmRlclJlZmVyZW5jZUlkKTtcclxuICAgICAgICAgICAgc2hvdyhcIiNzdWNjZXNzZnVsUHVyY2hhc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2hvdyhcIiN0ZWNobmljYWxJc3N1ZXNQdXJjaGFzZVwiKTtcclxuICAgICAgICBpZiAodGVjaG5pY2FsQ29kZSkge1xyXG4gICAgICAgICAgICBzZXRUZXh0KFwiI3RlY2huaWNhbENvZGVcIiwgdGVjaG5pY2FsQ29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVSZXN1bHQoZGF0YSkge1xyXG4gICAgICAgIGRhdGEubW9kZSA9IG1qc3dvcmtzLm1vZGU7XHJcbiAgICAgICAgZmV0Y2goJ2h0dHBzOi8vbWpzd29ya3NmdW5jcy5henVyZXdlYnNpdGVzLm5ldC9hcGkvVmFsaWRhdGVSZWNlaXB0U2lnbmF0dXJlP2NvZGU9QWo1MlJ2ZzczSGowSjVlcXVybzJjVWc5ZklOYURXN1F5YmpvUWRETXBPL2RoUWJRbDQxNk5nPT0mY2xpZW50SWQ9ZGVmYXVsdCcsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJmYWlsZWRcIjsgICAgICAgICAgXHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VPYmopIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlT2JqID09PSBcImZhaWxlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZShudWxsLCBudWxsLCBcIkUyMDBcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTaWduYXR1cmUgPSB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEuc2lnbmF0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0ZWQgPSAhIShvcmlnaW5hbFNpZ25hdHVyZSA9PT0gcmVzcG9uc2VPYmouc2lnbmF0dXJlKTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEsIHZhbGlkYXRlZCwgdmFsaWRhdGVkID8gbnVsbCA6IFwiRTQwMFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCF3aW5kb3cuZmV0Y2gpIHtcclxuICAgICAgICBkaXNwbGF5TWVzc2FnZShudWxsLCBudWxsLCBcIkUzMDBcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHBhcnNlUXVlcnkoKTtcclxuICAgICAgICB2YWxpZGF0ZVJlc3VsdChkYXRhKTsgICAgICBcclxuICAgIH1cclxufSkoKTsiXX0=