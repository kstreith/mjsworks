!function(){function r(e){e=document.querySelector(e);e&&(e.style.display="block")}function u(e,n){e=document.querySelector(e);e&&(e.innerText=n)}function n(e,n,t){var o;if(o="#loading",(o=document.querySelector(o))&&(o.style.display="none"),!n)return r("#technicalIssuesPurchase"),void(t&&u("#technicalCode",t));if("Failure"!==e.resultCode||"BuyerAbandoned"!==e.failureCode)if("Failure"!==e.resultCode||"AmazonRejected"!==e.failureCode){if("Success"===e.resultCode&&e.orderReferenceId)return u("#orderNumber",e.orderReferenceId),void r("#successfulPurchase");r("#technicalIssuesPurchase"),t&&u("#technicalCode",t)}else r("#rejectedPurchase");else r("#abandonedPurchase")}var e,t;window.fetch?(e=function(){for(var e=window.location.search,n={},t=("?"===e[0]?e.substr(1):e).split("&"),o=0;o<t.length;o++){var r=t[o].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}(),(t=e).mode=mjsworks.mode,fetch("https://mjsworksfuncs.azurewebsites.net/api/ValidateReceiptSignature?code=Aj52Rvg73Hj0J5equro2cUg9fINaDW7QybjoQdDMpO/dhQbQl416Ng==&clientId=default",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then(function(e){return 200===e.status?e.json():"failed"}).then(function(e){"failed"===e?n(null,null,"E200"):(e=!(window.decodeURIComponent(t.signature)!==e.signature),n(t,e,e?null:"E400"))})):n(null,null,"E300")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmFsaXplQXdzU2FsZS5qcyJdLCJuYW1lcyI6WyJzaG93Iiwic2VsZWN0b3IiLCJkb21Ob2RlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGV4dCIsInRleHQiLCJpbm5lclRleHQiLCJkaXNwbGF5TWVzc2FnZSIsImRhdGEiLCJ2YWxpZE1lc3NhZ2UiLCJ0ZWNobmljYWxDb2RlIiwicmVzdWx0Q29kZSIsImZhaWx1cmVDb2RlIiwib3JkZXJSZWZlcmVuY2VJZCIsIndpbmRvdyIsImZldGNoIiwicXVlcnlTdHJpbmciLCJsb2NhdGlvbiIsInNlYXJjaCIsInF1ZXJ5IiwicGFpcnMiLCJzdWJzdHIiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VRdWVyeSIsIm1vZGUiLCJtanN3b3JrcyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsImNvbnRlbnQtdHlwZSIsInRoZW4iLCJyZXNwb25zZSIsInN0YXR1cyIsImpzb24iLCJyZXNwb25zZU9iaiIsInZhbGlkYXRlZCIsInNpZ25hdHVyZSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FXQSxTQUFBQSxFQUFBQyxHQUNBQyxFQUFBQyxTQUFBQyxjQUFBSCxHQUNBQyxJQUdBQSxFQUFBRyxNQUFBQyxRQUFBLFNBU0EsU0FBQUMsRUFBQU4sRUFBQU8sR0FDQU4sRUFBQUMsU0FBQUMsY0FBQUgsR0FDQUMsSUFHQUEsRUFBQU8sVUFBQUQsR0FFQSxTQUFBRSxFQUFBQyxFQUFBQyxFQUFBQyxHQWRBLElBQUFaLEVBZ0JBLEdBaEJBQSxFQWVBLFlBZEFDLEVBQUFDLFNBQUFDLGNBQUFILE1BSUFDLEVBQUFHLE1BQUFDLFFBQUEsU0FXQU0sRUFLQSxPQUpBWixFQUFBLGlDQUNBYSxHQUNBTixFQUFBLGlCQUFBTSxJQUlBLEdBQUEsWUFBQUYsRUFBQUcsWUFBQSxtQkFBQUgsRUFBQUksWUFJQSxHQUFBLFlBQUFKLEVBQUFHLFlBQUEsbUJBQUFILEVBQUFJLFlBQUEsQ0FJQSxHQUFBLFlBQUFKLEVBQUFHLFlBQUFILEVBQUFLLGlCQUdBLE9BRkFULEVBQUEsZUFBQUksRUFBQUssdUJBQ0FoQixFQUFBLHVCQUdBQSxFQUFBLDRCQUNBYSxHQUNBTixFQUFBLGlCQUFBTSxRQVZBYixFQUFBLDBCQUpBQSxFQUFBLHNCQXNDQSxJQUlBVyxFQXpCQUEsRUFxQkFNLE9BQUFDLE9BSUFQLEVBbkZBLFdBSUEsSUFIQSxJQUFBUSxFQUFBRixPQUFBRyxTQUFBQyxPQUNBQyxFQUFBLEdBQ0FDLEdBQUEsTUFBQUosRUFBQSxHQUFBQSxFQUFBSyxPQUFBLEdBQUFMLEdBQUFNLE1BQUEsS0FDQUMsRUFBQSxFQUFBQSxFQUFBSCxFQUFBSSxPQUFBRCxJQUFBLENBQ0EsSUFBQUUsRUFBQUwsRUFBQUcsR0FBQUQsTUFBQSxLQUNBSCxFQUFBTyxtQkFBQUQsRUFBQSxLQUFBQyxtQkFBQUQsRUFBQSxJQUFBLElBRUEsT0FBQU4sRUEyRUFRLElBekJBbkIsRUEwQkFBLEdBekJBb0IsS0FBQUMsU0FBQUQsS0FDQWIsTUFBQSxzSkFBQSxDQUNBZSxPQUFBLE9BQ0FDLEtBQUFDLEtBQUFDLFVBQUF6QixHQUNBMEIsUUFBQSxDQUFBQyxlQUFBLHNCQUNBQyxLQUFBLFNBQUFDLEdBQ0EsT0FBQSxNQUFBQSxFQUFBQyxPQUNBRCxFQUFBRSxPQUVBLFdBQ0FILEtBQUEsU0FBQUksR0FDQSxXQUFBQSxFQUNBakMsRUFBQSxLQUFBLEtBQUEsU0FHQWtDLElBREEzQixPQUFBWSxtQkFBQWxCLEVBQUFrQyxhQUNBRixFQUFBRSxXQUNBbkMsRUFBQUMsRUFBQWlDLEVBQUFBLEVBQUEsS0FBQSxZQUtBbEMsRUFBQSxLQUFBLEtBQUEsUUFqRkEiLCJmaWxlIjoiZmluYWxpemVBd3NTYWxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBwYXJzZVF1ZXJ5KCkge1xyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgdmFyIHF1ZXJ5ID0ge307XHJcbiAgICAgICAgdmFyIHBhaXJzID0gKHF1ZXJ5U3RyaW5nWzBdID09PSAnPycgPyBxdWVyeVN0cmluZy5zdWJzdHIoMSkgOiBxdWVyeVN0cmluZykuc3BsaXQoJyYnKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHF1ZXJ5O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvdyhzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBkb21Ob2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFkb21Ob2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tTm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGlkZShzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBkb21Ob2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFkb21Ob2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tTm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXRUZXh0KHNlbGVjdG9yLCB0ZXh0KSB7XHJcbiAgICAgICAgdmFyIGRvbU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoIWRvbU5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb21Ob2RlLmlubmVyVGV4dCA9IHRleHQ7ICAgICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRpc3BsYXlNZXNzYWdlKGRhdGEsIHZhbGlkTWVzc2FnZSwgdGVjaG5pY2FsQ29kZSkge1xyXG4gICAgICAgIGhpZGUoXCIjbG9hZGluZ1wiKTtcclxuICAgICAgICBpZiAoIXZhbGlkTWVzc2FnZSkge1xyXG4gICAgICAgICAgICBzaG93KFwiI3RlY2huaWNhbElzc3Vlc1B1cmNoYXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodGVjaG5pY2FsQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGV4dChcIiN0ZWNobmljYWxDb2RlXCIsIHRlY2huaWNhbENvZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0Q29kZSA9PT0gXCJGYWlsdXJlXCIgJiYgZGF0YS5mYWlsdXJlQ29kZSA9PT0gXCJCdXllckFiYW5kb25lZFwiKSB7XHJcbiAgICAgICAgICAgIHNob3coXCIjYWJhbmRvbmVkUHVyY2hhc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0Q29kZSA9PT0gXCJGYWlsdXJlXCIgJiYgZGF0YS5mYWlsdXJlQ29kZSA9PT0gXCJBbWF6b25SZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHNob3coXCIjcmVqZWN0ZWRQdXJjaGFzZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5yZXN1bHRDb2RlID09PSBcIlN1Y2Nlc3NcIiAmJiBkYXRhLm9yZGVyUmVmZXJlbmNlSWQpIHtcclxuICAgICAgICAgICAgc2V0VGV4dChcIiNvcmRlck51bWJlclwiLCBkYXRhLm9yZGVyUmVmZXJlbmNlSWQpO1xyXG4gICAgICAgICAgICBzaG93KFwiI3N1Y2Nlc3NmdWxQdXJjaGFzZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaG93KFwiI3RlY2huaWNhbElzc3Vlc1B1cmNoYXNlXCIpO1xyXG4gICAgICAgIGlmICh0ZWNobmljYWxDb2RlKSB7XHJcbiAgICAgICAgICAgIHNldFRleHQoXCIjdGVjaG5pY2FsQ29kZVwiLCB0ZWNobmljYWxDb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVJlc3VsdChkYXRhKSB7XHJcbiAgICAgICAgZGF0YS5tb2RlID0gbWpzd29ya3MubW9kZTtcclxuICAgICAgICBmZXRjaCgnaHR0cHM6Ly9tanN3b3Jrc2Z1bmNzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9WYWxpZGF0ZVJlY2VpcHRTaWduYXR1cmU/Y29kZT1BajUyUnZnNzNIajBKNWVxdXJvMmNVZzlmSU5hRFc3UXliam9RZERNcE8vZGhRYlFsNDE2Tmc9PSZjbGllbnRJZD1kZWZhdWx0Jywge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBcImZhaWxlZFwiOyAgICAgICAgICBcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZU9iaikge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VPYmogPT09IFwiZmFpbGVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlKG51bGwsIG51bGwsIFwiRTIwMFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFNpZ25hdHVyZSA9IHdpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoZGF0YS5zaWduYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlZCA9ICEhKG9yaWdpbmFsU2lnbmF0dXJlID09PSByZXNwb25zZU9iai5zaWduYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2UoZGF0YSwgdmFsaWRhdGVkLCB2YWxpZGF0ZWQgPyBudWxsIDogXCJFNDAwXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXdpbmRvdy5mZXRjaCkge1xyXG4gICAgICAgIGRpc3BsYXlNZXNzYWdlKG51bGwsIG51bGwsIFwiRTMwMFwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBkYXRhID0gcGFyc2VRdWVyeSgpO1xyXG4gICAgICAgIHZhbGlkYXRlUmVzdWx0KGRhdGEpOyAgICAgIFxyXG4gICAgfVxyXG59KSgpOyJdfQ==